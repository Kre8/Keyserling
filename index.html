<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
      
        <style>
          .hoverpic{
            width:40vw; height: 40vw; float:left; margin-right:20px;margin-top: 8px;color:black;  box-shadow: -2px 2px 2px black;left:2vw; position: absolute;border:none; 
          }
          .hoverpic2{
            width:40vw; height: 40vw; float:left; margin-right:20px;margin-top: 8px;color:black;  box-shadow: -2px 2px 2px black;left:2vw; position: absolute;border:none; 
          }
          .hoverpic:hover{
           animation: hoverpic 1s ease-in-out;
           animation-direction:normal;
           animation-fill-mode: forwards;
          }
            .table{

                grid-template-columns: repeat(7,14.3%);border:2px solid black;display:grid;text-align: center; width:100%;float:inline-start;
                margin-bottom: 10px;
                display: flexbox;
            }
            @keyframes hoverpic{
              0%{opacity:1}
              100%{opacity:0}
            }
.table div{
border-right: 2px solid black;
border-bottom:1px solid black;

}
@media screen and (min-width: 120px) {
    .table div {
font-size: calc(10px + 1 * ((100vw - 320px) / 580));
} 
p {
font-size: calc(12px + 1 * ((100vw - 320px) / 580));
} 
}
@media screen and (min-width: 320px) {
    .table div {
font-size: calc(12px + 1 * ((100vw - 320px) / 580));
} 
p {
font-size: calc(17px + 1 * ((100vw - 320px) / 580));
} 
}
@media screen and (min-width: 1000px) {
    .table div  {
font-size: 14px;}
p{
font-size: 19px; margin-left:20px;
}
}
        </style>
    </head>
    <body style="background-color: white;width:90vw; padding-left:2vw;padding-right: 2vw;">

   <p style="text-align: center;font-size: 12px;text-wrap: wrap;border-bottom: 2px solid black; padding-bottom: 10px;">Pages 201-202: 'Die Arachniden Australiens, nach der Natur beschrieben und abgebildet' by E Keyserling 1887 <a href="https://archive.org/details/keyserling-1887/page/n49/mode/2up" target="new">link</a><br>
        Translated from German to English. Image is an animated svg of Keyserlings sketch
        </p>  <br>
        
   <div style="width:41vw; height: 40vw; float:left; margin-right:5px;margin-top: 8px;color:black; margin-bottom: 10px;transform: translateX(-10px); margin-right: 20px;">
    <iframe class="hoverpic2" src="Araneus_usualis-colour.svg"></iframe>
    <iframe class="hoverpic" src="Araneus_usualis2.svg" ></iframe></div>
  
        <p style="text-align: center; font-weight: bold;">The Arachnids of Australia, described and illustrated from nature</p>
        <img style="display:inline;height:15vw;float:right;right:41px;" src="Headington.svg">
        <div style="display:inline; text-align: center; width:100%; "> <p style="font-size: 12px;display:inline" >Originally described as 'Araneus usualis', currently listed as:</p>
     
        <p class="get_genus" style="display:inline; font-weight: 600;font-style: italic;width:inherit;font-size: 12px;">sp:015274</p>
        <p class="get_species" style="display:inline; font-weight: 600;font-style: italic;font-size: 12px; width:inherit">sp:015274</p>
        <p style="display:inline;width:inherit;font-size: 12px;"> in family: </p>
        <p class="get_family" style="display:inline; font-weight: 600;font-style: italic;width:inherit;font-size: 12px;"  >sp:015274</p><p style="display:inline;width:inherit;font-size: 12px;"> (Live fetch)</p></div>
        <p>Female:
            <br>
            <br>The entire forebody, the vaguely dark-ringed legs, and the palps light reddish-brown, the head and the mandibles often somewhat darker.<br>
            <br>
<br>

            The abdomen gray, densely covered with yellow spots, which, in the middle, leave a wide longitudinal band on the belly, a large, darker one on the back area, which is bordered on each side by a limited narrow, blackish, wavy band.  In the front center, a similarly colored, small spot lies. On the sides, there are often small, blackish spots.<br><br>
            The cephalothorax sparsely covered with dark hairs is slightly shorter than patella and tibia IV, approximately one-fourth longer than wide, at the front a little more than half as wide as at the widest point, at the top the length arched and moderately high. The side furrows of the head quite deep, the middle depression, on the other hand, is very shallow and barely noticeable.  The clypeus not as high as the diameter of a front middle eye.
            <br><br>
            From above, both rows of eyes appear distinctly bent forward (recurved). The two front MA are twice as large as the rear ones and these a little larger than those on a strong bulge, not quite around their radius from each other, sitting, equally sized SA. The two front MA lie widely apart from each other in their diameter, from the front ones SA and the rear MA, which are only a radius apart from each other.  The two front MA sit at the corners of a fairly strong prominence.
            <br><br>
            The mandibles, curved at the front in the upper part, are shorter than the patellae and thinner than the femurs of the first pair of legs. Forward widening and frontally truncated maxillae equally long as wide, the front-rounded lip with a wide ridge almost as well longer than wide. 
            <br><br>
            The sternum is flatly arched and abundantly around the fourth part, longer than wide.
            The long but sparsely hairy legs,  some long, mostly occupied by rather weak spines.
            <br><br>
            The elongated oval abdomen is evenly rounded at both the front and back, the spinnerets only slightly protrude from the rear part of it.
            <br><br>            Measurements in mm:<br>
            Total length:8<br> Cephalothorax: length: 2.7, width at middle:2, front width:1.1<br>
            Abdomen length:6.1, width:3.5
        </p>
            <div class="table">
            <div></div>
            <div>Fem.</div>
            <div>Pat.</div>
            <div>Tib.</div>
            <div>Meta.</div>
            <div>Tars.</div>
            <div>Total</div>

            <div>1</div>
            <div>2.3</div>
            <div>1.4</div>
            <div>2.1</div>
            <div>2.3</div>
            <div>1</div>
            <div>9.1</div>

            <div>2</div>
            <div>2</div>
            <div>1.2</div>
            <div>1.9</div>
            <div>1.9</div>
            <div>1</div>
            <div>8</div>

            <div>3</div>
            <div>1.4</div>
            <div>0.8</div>
            <div>1.1</div>
            <div>1</div>
            <div>0.7</div>
            <div>5</div>

            <div>4</div>
            <div>2</div>
            <div>1.1</div>
            <div>1.8</div>
            <div>1.7</div>
            <div>0.9</div>
            <div>7.5</div>
        </div>
        <p>
            Male:
            <br>
            Measurements in mm:<br>
            Total length:5.4<br> Cephalothorax: length: 2.3, width at middle:1.8, front width:0.9<br>
            Abdomen length:3.2, width:1.8
            
            <div class="table">
                <div></div>
                <div>Fem.</div>
                <div>Pat.</div>
                <div>Tib.</div>
                <div>Meta.</div>
                <div>Tars.</div>
                <div>Total</div>
    
                <div>1</div>
                <div>2</div>
                <div>1</div>
                <div>2</div>
                <div>2</div>
                <div>0.9</div>
                <div>7.9</div>
    
                <div>2</div>
                <div>1.8</div>
                <div>1</div>
                <div>1.9</div>
                <div>1.8</div>
                <div>0.8</div>
                <div>7.3</div>
    
                <div>3</div>
                <div>1.1</div>
                <div>0.6</div>
                <div>0.8</div>
                <div>1</div>
                <div>0.6</div>
                <div>4.1</div>
    
                <div>4</div>
                <div>1.7</div>
                <div>0.8</div>
                <div>1.5</div>
                <div>1.5</div>
                <div>0.7</div>
                <div>6.2</div>
            </div>
            <br>
            The entire forebody, the palps, and the legs are yellow, the latter still more indistinctly, darkly banded and covered with numerous spines. 
            The Abdomen colored just like that of the female, only the back is darker. The anterior outer corner of the mandibles protrudes sharply.<br><br>
            Mrs. Bradley received from Cape York and near Sydney a male and several females.
            </p>
        <script >
            async function fetchTaxonomyData() {
    const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vT5ZziHAsffXxHzlL5hDNG6O5pBf3NXItfj7RKM06-LT8XCLB7wjOSpv3YhvSB-Qrtcb_YEDhvjclaE/pub?gid=1793549244&single=true&output=csv";
    const response = await fetch(csvUrl);
    const data = await response.text();
    return parseCSV(data);
  }

  function parseCSV(data) {
    const rows = data.split("\n").map(row => row.split(","));

    // Skip the first row (headers) and extract relevant columns
    const entries = rows.slice(1).map(row => ({
  family: row[0]?.trim(),
  genus: row[1]?.trim(),
  species: row[2]?.trim(),
  speciesNumber: row[12]?.replace(/sp:/, '').trim().padStart(6, '0'), 
}));
    console.log("Extracted Species Numbers:", entries.map(e => `"${e.speciesNumber}"`));
    console.log("Parsed CSV Entries:", entries); // Debugging log
    return entries;
  }

  function updateTaxonomyFields(entries) {
    document.querySelectorAll("p").forEach(p => {
      let text = p.innerText.trim();
      console.log("Processing:", text);

      const match = text.match(/sp:(\d+)/);
      if (match) {
        const speciesNum = match[1];
        const entry = entries.find(e => e.speciesNumber === speciesNum);

        if (entry) {
          if (p.classList.contains("get_family")) p.innerText = entry.family;
          if (p.classList.contains("get_genus")) p.innerText = entry.genus;
          if (p.classList.contains("get_species")) p.innerText = entry.species;
          if (p.classList.contains("get_fam_gen_spec")) p.innerText = `${entry.family} ${entry.genus} ${entry.species}`;
          if (p.classList.contains("get_gen_spec")) p.innerText = `${entry.genus} ${entry.species}`;
        } else {
          p.innerText = `Unknown Species (${speciesNum})`;
        }
        console.log("Checking for species:", speciesNum, "Found:", entry);

      }
    });
    
  }

  async function init() {
    const entries = await fetchTaxonomyData();
    updateTaxonomyFields(entries);
  }

  init();
        </script>
    </body>
</html>
